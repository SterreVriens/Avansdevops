<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="nl"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Sprint.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">avans devopst</a> &gt; <a href="index.source.html" class="el_package">domain.sprint</a> &gt; <span class="el_source">Sprint.java</span></div><h1>Sprint.java</h1><pre class="source lang-java linenums">package  domain.sprint;

import java.util.ArrayList;
import java.util.Date;

import  domain.backlogitem.models.BacklogItem;
import  domain.common.models.Project;
import  domain.common.models.User;
import  domain.notification.models.NotificationService;
import  domain.sprint.interfaces.ISprintState;
import  domain.sprint.interfaces.ISprintStrategy;
import  domain.sprint.states.CreatedSprintState;
import  domain.sprint.states.raportedSprintState;
import  domain.sprintraport.Raport;
import  domain.sprintraport.RaportBuilder;

public class Sprint {
    private String name;
    private Date startDate;
    private Date endDate;
    private ISprintState state;
    private User scrumMaster;
    private ISprintStrategy sprintStrategy;
    private String reviewSummery;
    private RaportBuilder raportBuilder;
    private Raport raport;
<span class="fc" id="L27">    private ArrayList&lt;BacklogItem&gt; backlogItems = new ArrayList&lt;&gt;();</span>
    private Project project;

    private NotificationService notificationService;

<span class="fc" id="L32">    public Sprint(String name, Date startDate, Date endDate, User scrumMaster, ISprintStrategy sprintStrategy, Project project) {</span>
<span class="fc" id="L33">        this.name = name;</span>
<span class="fc" id="L34">        this.startDate = startDate;</span>
<span class="fc" id="L35">        this.endDate = endDate;</span>
<span class="fc" id="L36">        this.scrumMaster = scrumMaster;</span>
<span class="fc" id="L37">        this.sprintStrategy = sprintStrategy;</span>
<span class="fc" id="L38">        this.state = new CreatedSprintState(this);</span>
<span class="fc" id="L39">        this.notificationService = new NotificationService();</span>
<span class="fc" id="L40">        this.project = project;</span>
<span class="fc" id="L41">    }</span>

    // Getters and Setters

    public String getName() {
<span class="fc" id="L46">        return name;</span>
    }

    public void setName(String name) {
<span class="nc bnc" id="L50" title="All 2 branches missed.">        if (!(this.state instanceof CreatedSprintState)) {</span>
<span class="nc" id="L51">            System.err.println(&quot;Cannot change name of a active.&quot;);</span>
<span class="nc" id="L52">            return;</span>
        }
<span class="nc" id="L54">        this.name = name;</span>
<span class="nc" id="L55">    }</span>

    public Date getStartDate() {
<span class="fc" id="L58">        return startDate;</span>
    }

    public void setStartDate(Date startDate) {
<span class="nc bnc" id="L62" title="All 2 branches missed.">        if (!(this.state instanceof CreatedSprintState)) {</span>
<span class="nc" id="L63">            System.err.println(&quot;Cannot change the start date of a active.&quot;);</span>
<span class="nc" id="L64">            return;</span>
        }
<span class="nc" id="L66">        this.startDate = startDate;</span>
<span class="nc" id="L67">    }</span>

    public Date getEndDate() {
<span class="fc" id="L70">        return endDate;</span>
    }

    public void setEndDate(Date endDate) {
<span class="nc bnc" id="L74" title="All 2 branches missed.">        if (!(this.state instanceof CreatedSprintState)) {</span>
<span class="nc" id="L75">            System.err.println(&quot;Cannot change the end date of a active.&quot;);</span>
<span class="nc" id="L76">            return;</span>
        }
<span class="nc" id="L78">        this.endDate = endDate;</span>
<span class="nc" id="L79">    }</span>

    public ISprintState getState() {
<span class="fc" id="L82">        return state;</span>
    }

    public void setState(ISprintState state) {
<span class="fc" id="L86">        this.state = state;</span>
<span class="fc" id="L87">    }</span>

    public User getScrumMaster() {
<span class="fc" id="L90">        return this.scrumMaster;</span>
    }

    public ISprintStrategy getSprintStrategy() {
<span class="fc" id="L94">        return this.sprintStrategy;</span>
    }

    public void setSprintStrategy(ISprintStrategy sprintStrategy) {
<span class="nc" id="L98">        this.sprintStrategy = sprintStrategy;</span>
<span class="nc" id="L99">    }</span>

    // Arraylist control methods fo backlogitems
    public void addBacklogItem(BacklogItem item) {
<span class="fc" id="L103">        item.setSprint(this);</span>
<span class="fc" id="L104">        backlogItems.add(item);</span>
<span class="fc" id="L105">    }</span>

    public ArrayList&lt;BacklogItem&gt; getBacklogItems() {
<span class="fc" id="L108">        return this.backlogItems;</span>
    }

    public String getReviewSummery() {
<span class="fc" id="L112">        return reviewSummery;</span>
    }

    public void setReviewSummery(String reviewSummery) {
<span class="fc" id="L116">        this.reviewSummery = reviewSummery;</span>
<span class="fc" id="L117">    }</span>

    // Change states

    public void start() {
<span class="fc" id="L122">        this.state.start();</span>
<span class="fc" id="L123">    }</span>

    public void finish() {
<span class="fc" id="L126">        this.state.finish();</span>
<span class="fc" id="L127">    }</span>

    public void raport() {
<span class="nc" id="L130">        this.state.raport();</span>
<span class="nc" id="L131">    }</span>

    public void  finalized() {
<span class="fc" id="L134">        this.state. finalized();</span>
<span class="fc" id="L135">    }</span>

    public void cancel() {
<span class="fc" id="L138">        this.state.cancel();</span>
<span class="fc" id="L139">    }</span>

    // raporting

    public void generateRaport() {
        // Bouw het rapport
<span class="pc bpc" id="L145" title="1 of 2 branches missed.">        if (!(this.state instanceof raportedSprintState)) {</span>
<span class="nc" id="L146">            System.err.println(&quot;⛔️ Sprint is not finished yet.&quot;);</span>
<span class="nc" id="L147">            return;</span>
        }
<span class="fc" id="L149">        this.raport = new RaportBuilder()</span>
<span class="fc" id="L150">                .setHeader(&quot;Sprint Report: &quot; + this.name)</span>
<span class="fc" id="L151">                .setContent(&quot;Sprint start date: &quot; + this.startDate + &quot;\nSprint end date: &quot; + this.endDate)</span>
<span class="pc bpc" id="L152" title="1 of 2 branches missed.">                .setFooter(&quot;Scrum Master: &quot; + (this.scrumMaster != null ? this.scrumMaster.getUsername() : &quot;Unknown&quot;))</span>
<span class="fc" id="L153">                .build();</span>

        // Bekijk het rapport
<span class="fc" id="L156">        this.raport.showRaport();</span>
<span class="fc" id="L157">    }</span>

    public void modifyRaport(String newHeader, String newContent, String newFooter) {
<span class="fc bfc" id="L160" title="All 2 branches covered.">        if (this.raport == null) {</span>
<span class="fc" id="L161">            System.err.println(&quot;No report has been generated yet. Please generate a report first.&quot;);</span>
<span class="fc" id="L162">            return;</span>
        }

        // Pas het rapport aan
<span class="fc" id="L166">        this.raport = new RaportBuilder()</span>
<span class="pc bpc" id="L167" title="1 of 2 branches missed.">                .setHeader(newHeader != null ? newHeader : this.raport.getHeader())</span>
<span class="pc bpc" id="L168" title="1 of 2 branches missed.">                .setContent(newContent != null ? newContent : this.raport.getContent())</span>
<span class="pc bpc" id="L169" title="1 of 2 branches missed.">                .setFooter(newFooter != null ? newFooter : this.raport.getFooter())</span>
<span class="fc" id="L170">                .build();</span>

        // Bekijk het aangepaste rapport
<span class="fc" id="L173">        this.raport.showRaport();</span>
<span class="fc" id="L174">    }</span>

    public void exportRaportAsPDF() {
<span class="fc bfc" id="L177" title="All 2 branches covered.">        if (this.raport == null) {</span>
<span class="fc" id="L178">            System.err.println(&quot;No report has been generated yet. Please generate a report first.&quot;);</span>
<span class="fc" id="L179">            return;</span>
        }

        // Exporteer het rapport als PDF
<span class="fc" id="L183">        this.raport.exportAsPDF();</span>
<span class="fc" id="L184">    }</span>

    public void exportRaportAsPNG() {
<span class="fc bfc" id="L187" title="All 2 branches covered.">        if (this.raport == null) {</span>
<span class="fc" id="L188">            System.err.println(&quot;No report has been generated yet. Please generate a report first.&quot;);</span>
<span class="fc" id="L189">            return;</span>
        }

        // Exporteer het rapport als PNG
<span class="fc" id="L193">        this.raport.exportAsPNG();</span>
<span class="fc" id="L194">    }</span>

    public void sendNotification(User toUsers, String subject, String body) {
<span class="nc" id="L197">        notificationService.sendToUser(toUsers, subject, body);</span>
<span class="nc" id="L198">    }</span>

    public void sendNotification(User[] toUsers, String subject, String body) {
<span class="fc" id="L201">        notificationService.sendToMultipleUsers(toUsers, subject, body);</span>
<span class="fc" id="L202">    }</span>

    public Project getProject() {
<span class="fc" id="L205">        return project;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>